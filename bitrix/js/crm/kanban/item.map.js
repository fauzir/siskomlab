{"version":3,"file":"item.min.js","sources":["item.js"],"names":["BX","namespace","CRM","Kanban","Item","options","apply","this","arguments","container","timer","popupTooltip","plannerCurrent","prototype","__proto__","constructor","lastPosition","columnId","targetId","clipTitle","fullTitle","title","arrTitle","split","lastWord","length","splice","join","setDataKey","key","val","data","getData","setData","getDataKey","switchClass","el","className","mode","addClass","removeClass","switchVisible","style","display","hide","getLastPosition","setLastPosition","column","getColumn","sibling","getNextItemSibling","getId","render","createLayout","color","getColor","rgb","util","hex2rgb","rgba","r","g","b","link","innerHTML","name","setAttribute","totalPrice","price_formatted","date","textContent","contactId","contactName","htmlspecialcharsback","contactLink","planner","switchPlanner","contactTypes","i","c","type","disabledClass","toLowerCase","unbindAll","bind","delegate","clickContact","proxy_context","showTooltip","message","toUpperCase","hideTooltip","gridData","getGridData","create","props","events","dblclick","window","location","href","mouseenter","addHoverClass","mouseleave","removeHoverClass","appendChild","entityType","total","children","showActivity","activityExist","click","showCurrentPlan","activityEmpty","mouseover","mouseout","activityPlan","text","showPlannerMenu","contactPhone","attrs","data-type","contactEmail","contactIm","contactBlock","createShadow","getPreloader","loadCurrentPlan","getGrid","ajax","action","entity_id","setContent","adjustPosition","error","Utils","showErrorDialog","PopupWindowManager","closeIcon","autoHide","closeByEsc","contentColor","angle","offsetLeft","overlay","backgroundColor","opacity","onAfterPopupShow","onPopupClose","destroy","unbind","proxy","adjustPopup","show","fields","Array","isArray","menuItems","push","value","onclick","clickContactItem","PopupMenu","zIndex","item","BXIM","phoneTo","ENTITY_TYPE","contactType","ENTITY_ID","openMessenger","top","selectPlannerMenu","Crm","Activity","Planner","showEdit","TYPE_ID","CrmActivityType","OWNER_TYPE","OWNER_ID","taskData","UF_CRM_TASK","CrmOwnerTypeAbbr","resolve","TITLE","TAGS","add","visitParams","CrmActivityVisit","getCurrentMenu","close","getPlannerMenu","columnData","activityProgress","context","PopupWindow","darkMode","content","itemBlock","setTimeout","classList","clearTimeout","remove","popup","getCurrentPopup","menu","getPopupWindow"],"mappings":"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"}