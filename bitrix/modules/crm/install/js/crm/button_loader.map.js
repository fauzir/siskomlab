{"version":3,"file":"button_loader.min.js","sources":["button_loader.js"],"names":["window","BX","SiteButton","isShown","init","config","this","loadBxAnalytics","userParams","Bitrix24WidgetObject","handlers","eventHandlers","execEventHandler","check","load","delay","_this","setTimeout","show","isActivated","widgets","length","disableOnMobile","util","isMobile","wm","checkPagesAll","checkWorkTimeAll","_ba","targetHost","document","location","hostname","push","ba","createElement","type","async","src","protocol","s","getElementsByTagName","parentNode","insertBefore","isIOS","addClass","documentElement","resources","forEach","resource","cssNode","setAttribute","styleSheet","cssText","content","appendChild","createTextNode","head","context","getNodeFromText","layout","body","container","querySelector","shadow","caller","shadowNode","buttons","blankButtonNode","openerButtonNode","hacks","hello","loadAll","setPulse","isActive","pulseNode","style","display","removeClass","hide","addEventHandler","eventName","handler","params","eventHandler","apply","externalEventName","onCustomEvent","jQuery","obj","$","trigger","onWidgetFormInit","form","onWidgetClose","element","className","indexOf","replace","addEventListener","el","attachEvent","isInit","wasOnceShown","wasOnceClick","list","animatedNodes","attributeAnimateNode","c","openerClassName","e","onclick","href","toggle","button","node","insert","initAnimation","nodeListToArray","querySelectorAll","filter","getAttribute","isHidden","getByType","animate","curIndex","index","hasClass","displayButton","id","sortOut","sort","buttonA","buttonB","add","buttonNode","cloneNode","classList","title","tooltipNode","innerText","icon","iconColor","styleName","getComputedStyle","styleValue","getPropertyValue","substring","bgColor","target","clickHandler","onClick","keyCode","saveScrollPos","restoreScrollPos","text","innerHTML","children","filtered","name","nodeList","i","item","test","navigator","userAgent","isOpera","toLowerCase","isIE","isArray","Object","prototype","toString","call","isString","String","evalGlobal","script","firstChild","removeChild","isCurPageInList","page","pattern","prepareUrl","split","map","chunk","join","RegExp","url","result","getCookie","matches","cookie","match","decodeURIComponent","undefined","setCookie","value","options","expires","currentDate","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propertyName","hasOwnProperty","propertyValue","scrollPos","pageYOffset","scrollTo","showedWidget","loadedCount","getList","widget","isLoaded","getById","manager","some","checkPages","isPageFound","pages","mode","checkWorkTime","workTime","isWorkTimeNow","isWorkTimeChecked","date","timeZoneOffset","getTimezoneOffset","valueOf","currentTime","parseFloat","getHours","getMinutes","isSuccess","dayOff","day","getDay","holidays","currentDay","getMonth","getDate","isNightMode","timeTo","timeFrom","actionRule","isCallbackForm","Bitrix24FormLoader","frameParameters","resultSuccessText","actionText","stopCallBack","getButtonUrl","getButtonHandler","useColors","loadScript","mobile","desktop","scriptText","isAddInHead","parsedScript","caption","widgetCaptionNode","condition","cookieName","showClassName","buttonHideNode","iconNode","nameNode","textNode","initHandlers","conditions","setConditions","initCondition","findCondition","planShowing","event","stopPropagation","preventDefault","cancelBubble","returnValue","showWidget","showDelay","MODE","LIST","showWidgetId","showImmediately","forceShowing"],"mappings":"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"}