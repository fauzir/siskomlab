{"version":3,"file":"grid.min.js","sources":["grid.js"],"names":["BX","namespace","Tasks","Kanban","Grid","options","apply","this","arguments","addCustomEvent","delegate","onItemMoved","onItemAddedAsync","onColumnMoved","onColumnUpdated","onColumnLoadAsync","onColumnRemovedAsync","onColumnAddedAsync","onGridRender","onApplyFilter","onTaskTimerChange","onTasksGroupSelectorChange","onTaskSortChanged","tasksTaskEvent","tasksTaskPull","prototype","__proto__","constructor","accessNotifyDialog","ajax","data","onsuccess","onfailure","sessid","bitrix_sessid","params","getData","method","dataType","url","getAjaxHandlerPath","accessNotify","Intranet","NotifyDialog","listUserData","notificationHandlerUrl","popupTexts","sendButton","message","title","header","description","setUsersForNotify","admins","show","onItemDragStart","item","setDragMode","DragMode","ITEM","gridData","rights","canSortItem","addItemOrder","column","getColumn","columnId","columnItems","getItems","newTaskOrder","length","targetId","getId","addItem","total","updateItem","notDestroy","Bitrix24","Slider","destroy","getItem","getTaskUrl","promises","push","addTask","getColumnItems","removeStage","addStage","promise","Promise","action","pageId","getPagination","getPage","type","isArray","items","error","fulfill","Utils","showErrorDialog","fatal","reject","bind","fields","id","delete","targetColumn","getPreviousColumnSibling","targetColumnId","columnName","getName","columnColor","getColor","afterColumnId","nextItem","getNextItemSibling","taskName","beforeItemId","beforeItem","itemId","afterItemId","getPreviousItemSibling","afterColumn","color","isNotEmptyString","ajaxHandlerPath","filterId","values","filterInstance","fadeOut","autoResolve","removeItems","loadData","fadeIn","taskId","TIMER","TIMER_STARTED_AT","task","timestamp","Math","floor","Date","now","delta","parseInt","setDataKey","time_logs_start","render","currentGroup","GROUP_ID","setData","columns","getColumns","i","c","removeColumn","canAddColumn","canEditColumn","canRemoveColumn","canAddItem","onCustomEvent","ID","removeItem","getColumnId","STAGE_ID","command","operation","grid","getGridContainer","columnsWidth","reduce","width","getContainer","offsetWidth","showBorder","getRenderToContainer","classList","changeDemoView","viewId"],"mappings":"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"}